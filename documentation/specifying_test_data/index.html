
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="shortcut icon" href="../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.6.1">
    
    
      
        <title>Specifying test data - RedG User Documentation</title>
      
    
    
      <script src="../assets/javascripts/modernizr-56ade86843.js"></script>
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application-4d0d3f2fbf.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-f78e5cb881.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../css/style.css">
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="red" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href=".." title="RedG User Documentation" class="md-logo md-header-nav__button">
            <img src="../img/logo_white.svg" width="24" height="24">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
            
            Specifying test data
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          
            


  


  <a href="https://github.com/btc-ag/redg" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      btc-ag/redg
    </div>
  </a>

          
        </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-logo md-nav__button">
        <img src="../img/logo_white.svg">
      </i>
    
    RedG User Documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/btc-ag/redg" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      btc-ag/redg
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../getting_started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Specifying test data
      </label>
    
    <a href="./" title="Specifying test data" class="md-nav__link md-nav__link--active">
      Specifying test data
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-api-design" title="General API design" class="md-nav__link">
    General API design
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-an-entity" title="Adding an entity" class="md-nav__link">
    Adding an entity
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-a-dummy-entity" title="Generating a dummy entity" class="md-nav__link">
    Generating a dummy entity
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#referencing-existing-entities" title="Referencing existing entities" class="md-nav__link">
    Referencing existing entities
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Features
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Features
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../features/dummy_data/" title="Dummy data" class="md-nav__link">
      Dummy data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../features/visualization/" title="Visualization" class="md-nav__link">
      Visualization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../features/data_extractor/" title="Data extraction" class="md-nav__link">
      Data extraction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../features/jpa_metamodel/" title="JPA meta-model analysis" class="md-nav__link">
      JPA meta-model analysis
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Integration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Integration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../integration/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      Code generator
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        Code generator
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../integration/maven_plugin/" title="Maven plugin" class="md-nav__link">
      Maven plugin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../integration/generator_api/" title="Code generator API" class="md-nav__link">
      Code generator API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3">
    
    <label class="md-nav__link" for="nav-5-3">
      Runtime
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        Runtime
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../integration/runtime_api/" title="Runtime API" class="md-nav__link">
      Runtime API
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Customization
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Customization
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-1" type="checkbox" id="nav-6-1">
    
    <label class="md-nav__link" for="nav-6-1">
      Code generator
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-1">
        Code generator
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../customization/generator/type_mapping/" title="Type mapping" class="md-nav__link">
      Type mapping
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../customization/generator/name_mapping/" title="Name mapping" class="md-nav__link">
      Name mapping
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../customization/generator/explicit_attributes/" title="Explicit attributes & foreign keys" class="md-nav__link">
      Explicit attributes & foreign keys
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../customization/generator/convenience_setters/" title="Convenience setter methods" class="md-nav__link">
      Convenience setter methods
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-2" type="checkbox" id="nav-6-2">
    
    <label class="md-nav__link" for="nav-6-2">
      Runtime
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-2">
        Runtime
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../customization/runtime/default_value_strategy/" title="Default value strategy" class="md-nav__link">
      Default value strategy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../customization/runtime/sql_values_formatter/" title="SQL values formatter" class="md-nav__link">
      SQL values formatter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../customization/runtime/prepared_statement_parameter_setter/" title="PreparedStatement parameter setter" class="md-nav__link">
      PreparedStatement parameter setter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../customization/runtime/dummy_factory/" title="Dummy factory" class="md-nav__link">
      Dummy factory
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../compatibility/" title="Compatibility" class="md-nav__link">
      Compatibility
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../about/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-api-design" title="General API design" class="md-nav__link">
    General API design
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-an-entity" title="Adding an entity" class="md-nav__link">
    Adding an entity
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-a-dummy-entity" title="Generating a dummy entity" class="md-nav__link">
    Generating a dummy entity
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#referencing-existing-entities" title="Referencing existing entities" class="md-nav__link">
    Referencing existing entities
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="specifying-test-data">Specifying test data<a class="headerlink" href="#specifying-test-data" title="Permanent link">&para;</a></h1>
<p>With RedG you specify all your test data in pure Java code. And "all your test data" means 
"only the data you <em>really</em> need". RedG takes care of all the other stuff (like not specified <code>NOT NULL</code> fields, required
foreign key relations etc.).</p>
<h2 id="general-api-design">General API design<a class="headerlink" href="#general-api-design" title="Permanent link">&para;</a></h2>
<p>The entity classes RedG generates use a <a href="https://en.wikipedia.org/wiki/Fluent_interface">fluent interface</a> with getters and
setters in "JQuery style" (no <code>get</code>/<code>set</code> prefix, calling without parameter gets the value, with parameter sets it).</p>
<p>RedG  always generates a "main class" (or "manager class"). This is not an executable class containing a 
<code>public static void main(String[] args)</code>, but the class you'll use to create and manage your RedG entities (and thus your
test data). This class is usually named <code>RedG</code>.</p>
<p>Using the RedG main class you can create entities. An entity is a java object that represents one row of data that will be
inserted into a database (or already <a href="#referencing-existing-entities">exists in the database</a>). Usually you can use methods
to change fields ("columns" in your database) on these entities.</p>
<h2 id="adding-an-entity">Adding an entity<a class="headerlink" href="#adding-an-entity" title="Permanent link">&para;</a></h2>
<p>To create a new entity and add it to RedG's internal list of objects to insert call one of the <code>add...()</code> methods
on a RedG object. Replace <code>...</code> with the name of the entity you want to add. If the entity has required fields (either
<code>NOT NULL</code> foreign keys or columns / foreign keys marked as <a href="../customization/generator/explicit_attributes/">explicit</a>) 
you'll need to pass them to the method. Passing a <code>null</code> value will result in a <code>NullPointerException</code>.</p>
<p>Once you have created your entity you can use it's setters to set the values for the necessary fields.</p>
<p>Example:</p>
<div class="codehilite"><pre><span></span><span class="n">RedG</span> <span class="n">redG</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RedG</span><span class="o">();</span>

<span class="c1">// either </span>
<span class="n">GTeacher</span> <span class="n">mathTeacher</span> <span class="o">=</span> <span class="n">redG</span><span class="o">.</span><span class="na">addTeacher</span><span class="o">()</span>
    <span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">&quot;Leonhard Euler&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">age</span><span class="o">(</span><span class="mi">310</span><span class="o">);</span>

<span class="c1">// or just</span>
<span class="n">redG</span><span class="o">.</span><span class="na">addTeacher</span><span class="o">()</span>
    <span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">&quot;Isaac Newton&quot;</span><span class="o">);</span>

<span class="c1">// or even</span>
<span class="n">GTeacher</span> <span class="n">chemistryTeacher</span> <span class="o">=</span> <span class="n">redG</span><span class="o">.</span><span class="na">addTeacher</span><span class="o">();</span>
<span class="n">chemistryTeacher</span>
    <span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">&quot;Niels Bohr&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">hasNobelPrice</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
</pre></div>


<p>When you do not need an entity for further foreign key relations or data manipulation, there is no need to save it 
in a variable.</p>
<p>As you can see in the example, different fields are set for <code>mathTeacher</code> and <code>chemistryTeacher</code> although they are of the same 
type and have the same columns. Even if <code>age</code> or <code>hasNobelPrice</code> would both be mandatory (<code>NOT NULL</code>) this code would
still work, as RedG generates default values for all fields that are not specified by the user.</p>
<p>Example for entities with <code>NOT NULL</code> foreign key or explicit attributes:</p>
<div class="codehilite"><pre><span></span><span class="c1">// name of school is an explicit attribute for demonstration purposes</span>
<span class="n">redG</span><span class="o">.</span><span class="na">addSchool</span><span class="o">(</span><span class="s">&quot;Time-traveling School with famous teachers&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">headmaster</span><span class="o">(</span><span class="n">einstein</span><span class="o">);</span>

<span class="c1">// Every class needs a teacher, so it is specified at creation time and may not be null</span>
<span class="n">GClass</span> <span class="n">chemistryClass</span> <span class="o">=</span> <span class="n">redG</span><span class="o">.</span><span class="na">addClass</span><span class="o">(</span><span class="n">chemistryTeacher</span><span class="o">)</span>
    <span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">&quot;Chemistry 101&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">maxStudentCount</span><span class="o">(</span><span class="mi">45</span><span class="o">)</span>
</pre></div>


<h2 id="generating-a-dummy-entity">Generating a dummy entity<a class="headerlink" href="#generating-a-dummy-entity" title="Permanent link">&para;</a></h2>
<p>There are many scenarios where you need to test a specific entity but only need some or none of its dependencies.
With most other tools you would have to specify each and every dependency (and their dependencies and so on) and 
you could wind up with far too much code/XML for just one entity.</p>
<p>To solve this problem RedG offers a dummy entity generator, that will generate a valid dummy entity for you. This entity
will have meaningless values but is still a valid entity that can be referenced wherever you want.</p>
<p>To stay in the educational environment with this example, imagine a test case where you need to test the <code>SCHOOL_SUBJECT</code> table
(<code>SchoolSubject</code> entity name, <code>GSchoolSubject</code> entity class name). Every subjects needs a teacher. A teacher is a human
with a pay grade, a qualification and a school he graduated from (All of these have to be provided because of constraints 
on the database). Every subjects needs one required textbook as well.</p>
<div class="codehilite"><pre><span></span><span class="c1">// Without dummy entities and without the previously defined entities</span>

<span class="n">GSchool</span> <span class="n">school</span> <span class="o">=</span> <span class="n">redG</span><span class="o">.</span><span class="na">addSchool</span><span class="o">(</span><span class="s">&quot;Wherever Primary School&quot;</span><span class="o">);</span>
<span class="n">GHuman</span> <span class="n">somePerson</span> <span class="o">=</span> <span class="n">redG</span><span class="o">.</span><span class="na">addHuman</span><span class="o">();</span>
<span class="n">GTeacher</span> <span class="n">someTeacher</span> <span class="o">=</span> <span class="n">redG</span><span class="o">.</span><span class="na">addTeacher</span><span class="o">(</span><span class="n">somePerson</span><span class="o">,</span> <span class="n">Paygrade</span><span class="o">.</span><span class="na">TEACHER</span><span class="o">,</span> 
    <span class="n">Qualifications</span><span class="o">.</span><span class="na">NONE</span><span class="o">,</span> <span class="n">school</span><span class="o">);</span>
<span class="n">GTextBook</span> <span class="n">textBook</span> <span class="o">=</span> <span class="n">redG</span><span class="o">.</span><span class="na">addTextBook</span><span class="o">();</span>

<span class="n">GSchoolSubject</span> <span class="n">aqm</span> <span class="o">=</span> <span class="n">redg</span><span class="o">.</span><span class="na">addSchoolSubject</span><span class="o">(</span><span class="n">someTeacher</span><span class="o">,</span> <span class="n">textBook</span><span class="o">)</span>
    <span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">&quot;Advanced quantum mechanics&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">isCoreClass</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
    <span class="o">.</span><span class="na">room</span><span class="o">(</span><span class="s">&quot;1.42&quot;</span><span class="o">);</span>

<span class="c1">// with RedGs dummy generator</span>

<span class="n">GSchoolSubject</span> <span class="n">aqm</span> <span class="o">=</span> <span class="n">redG</span><span class="o">.</span><span class="na">addSchoolSubject</span><span class="o">(</span>
        <span class="n">redG</span><span class="o">.</span><span class="na">dummyTeacher</span><span class="o">(),</span>
        <span class="n">redG</span><span class="o">.</span><span class="na">dummyTextBook</span><span class="o">()</span>
<span class="o">)</span>
    <span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">&quot;Advanced quantum mechanics&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">isCoreClass</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
    <span class="o">.</span><span class="na">room</span><span class="o">(</span><span class="s">&quot;1.42&quot;</span><span class="o">);</span>
</pre></div>


<h2 id="referencing-existing-entities">Referencing existing entities<a class="headerlink" href="#referencing-existing-entities" title="Permanent link">&para;</a></h2>
<p>Depending on your setup you might already have some data in your database before running RedG and need to reference
these data for a foreign key relation within RedG.</p>
<p>RedG allows you to specify that a certain entity is already present in the database. When inserting you test data
RedG will test that the specified entity is really already in the database.</p>
<p>To reference an existing entity, use the <code>existing...()</code> methods of the RedG object. You have to pass
the full primary key as the arguments to these methods. If a table does not have primary keys, you cannot reference
it.</p>
<p>Example:</p>
<div class="codehilite"><pre><span></span><span class="n">GTeacher</span> <span class="n">euklid</span> <span class="o">=</span> <span class="n">redG</span><span class="o">.</span><span class="na">existingWizard</span><span class="o">(</span><span class="mi">4</span><span class="o">);</span> <span class="c1">// 4 is value of primary id column</span>

<span class="c1">// use euklid just like normal for references, just don&#39;t try to modify him or read values other the primary keys</span>

<span class="c1">// trying to modify fields will throw an UnsupportedOperationException</span>
<span class="n">euklid</span><span class="o">.</span><span class="na">isDead</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span> 

<span class="n">redG</span><span class="o">.</span><span class="na">addMemorialDay</span><span class="o">(</span><span class="n">euklid</span><span class="o">)</span> <span class="c1">// works just like expected</span>
</pre></div>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../getting_started/" title="Getting started" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Getting started
              </span>
            </div>
          </a>
        
        
          <a href="../features/dummy_data/" title="Dummy data" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Dummy data
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Â© 2016-2017 <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">BTC Business Technology Consulting AG</span>&emsp;&emsp;<a href="/redg/about/#imprint">Impressum</a>&emsp;<a href="/redg/about/#privacy-policy">Privacy Policy</a><br/> Unless stated otherwise, the <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">RedG User Documentation</span> is made available under CC-BY-SA 4.0 <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Lizenzvertrag" style="vertical-align:text-bottom" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="https://www.btc-ag.com" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/btc-ag/redg" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application-6b599127bc.js"></script>
      <script>app.initialize({url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>